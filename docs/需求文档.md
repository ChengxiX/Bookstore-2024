# 需求分析
谢承熙 2024/12
## 业务流
```
游客
↓
登录 -> 店主 -> 销售 -> 顾客 (权限管理) ->[登录/注销]
         |       |      |-查询图书
         |       |      |-购买图书
         |       |-进货
         |       |-图书信息
         |       |-用户创建（权限管理？）
         |-采购、销售查询
         |-员工日志查询
         |-系统日志查询
```

## 数据流
### 图书信息
图书id
ISBN 号、书名、作者、关键字、库存、单价
操作员id
### 销售信息
销售订单id
图书id、单价、数量、额外信息
操作员id
### 采购信息
采购订单id
图书id、单价、数量、额外信息
操作员id
### 采购
```
采购----|----销售
       盈利
```
by isbn、时间
### 用户日志
类型
对象id
时间
操作员id
### 系统日志
## 数据词典
- ISBN 号 ：20 个字符，每本正版书都有惟一的标识
- 书名：60 个字符
- 作者：60 个字符
- 关键字：可以有多个，总共不超过 60 个字符
- 库存量：整型
- 单价：非负实数
# 功能说明
- 注册用户
用户名、密码、权限
- 登录
用户名、密码
- 改、删用户
- 添加图书
ISBN 号、书名、作者、关键字、库存、单价
- 查询图书
ISBN、作者、关键字、书名组合
- 改、删图书
- 添加销售记录
图书isbn、单价、数量
- 添加采购记录
图书isbn、单价、数量
- 查询记录
ISBN
- 查询工作报告
员工
- 查询系统日志
# 用户交互设计
## 命令：
``` login [用户名]```

``` +user [用户名] [用户组]```

``` ~user [用户名]```

``` +book [ISBN] [书名] [作者] "[关键字]" [库存] [单价]```

``` ~book [ISBN] ```

``` 
!book [ISBN]
-i ISBN
-n name
-a auther
-k "keyword"
-s stock
-p price
```
```
?book
-i ISBN
-n name
-a auther
-k "keyword"
```

``` +sale [ISBN] [单价] [数量]```

``` +buy [ISBN] [单价] [数量]```

```
?sale
-i ISBN
```
```
?buy
-i ISBN
```

``` ?user [操作员id] ```